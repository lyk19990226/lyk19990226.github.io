(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{665:function(s,t,_){"use strict";_.r(t);var a=_(5),v=Object(a.a)({},(function(){var s=this,t=s.$createElement,_=s._self._c||t;return _("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[_("h2",{attrs:{id:"_1、小程序组件化思想"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1、小程序组件化思想"}},[s._v("#")]),s._v(" 1、小程序组件化思想")]),s._v(" "),_("h3",{attrs:{id:"_1-1-小程序组件化开发"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-小程序组件化开发"}},[s._v("#")]),s._v(" 1.1.小程序组件化开发")]),s._v(" "),_("ul",[_("li",[s._v("小程序在刚刚推出时是不支持组件化的, 也是为人诟病的一个点：、")]),s._v(" "),_("li",[s._v("但是从v1.6.3开始, 小程序开始支持自定义组件开发, 也让我们更加方便的在程序中使用组件化.")])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/140f07cdb21fa8922.png",alt:"140f07cdb21fa8922.png"}})]),s._v(" "),_("ul",[_("li",[s._v("组件化思想的应用：\n"),_("ul",[_("li",[s._v("有了组件化的思想，我们在之后的开发中就要充分的利用它。")]),s._v(" "),_("li",[s._v("尽可能的将页面拆分成一个个小的、可复用的组件。")]),s._v(" "),_("li",[s._v("这样让我们的代码更加方便组织和管理，并且扩展性也更强。")])])]),s._v(" "),_("li",[s._v("所以，组件是目前小程序开发中，非常重要的一个篇章，要认真学习（不过学习Vue的过程中我们已经强调过很多次了）。")])]),s._v(" "),_("h2",{attrs:{id:"_2、自定义组件的过程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2、自定义组件的过程"}},[s._v("#")]),s._v(" 2、自定义组件的过程")]),s._v(" "),_("h3",{attrs:{id:"_2-1-创建一个组件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-创建一个组件"}},[s._v("#")]),s._v(" 2.1.创建一个组件")]),s._v(" "),_("ul",[_("li",[s._v("类似于页面，自定义组件由 json wxml wxss js 4个文件组成。\n"),_("ul",[_("li",[s._v("按照我的个人习惯, 我们会先在根目录下创建一个文件夹；")]),s._v(" "),_("li",[s._v("components文件夹, 里面存放我们之后自定义的公共组件；")]),s._v(" "),_("li",[s._v("常见一个自定义组件 section-info: 包含对应的四个文件： json wxml wxss js；")])])]),s._v(" "),_("li",[s._v("自定义组件的步骤：\n"),_("ol",[_("li",[s._v("首先需要在 json 文件中进行自定义组件声明（将component 字段设为 true 可将这一组文件设为自定义组件）：")]),s._v(" "),_("li",[s._v("在wxml中编写属于我们组件自己的模板")]),s._v(" "),_("li",[s._v("在wxss中编写属于我们组件自己的相关样式")]),s._v(" "),_("li",[s._v("在js文件中, 可以定义数据或组件内部的相关逻辑(后续我们再使用)")])])])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/2ebbeb2c214695b1b.png",alt:"2ebbeb2c214695b1b.png"}})]),s._v(" "),_("h3",{attrs:{id:"_2-2-使用自定义组件和细节注意事项"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-使用自定义组件和细节注意事项"}},[s._v("#")]),s._v(" 2.2.使用自定义组件和细节注意事项")]),s._v(" "),_("ul",[_("li",[s._v("一些需要注意的细节：\n"),_("ul",[_("li",[s._v("自定义组件也是可以引用自定义组件的，引用方法类似于页面引用自定义组件的方式（使用"),_("strong",[s._v("usingComponents")]),s._v(" 字段）。")]),s._v(" "),_("li",[s._v("自定义组件和页面所在项目"),_("strong",[s._v("根目录名 不能以“wx-”为前缀")]),s._v("，否则会报错。")]),s._v(" "),_("li",[s._v("如果在app.json的usingComponents声明某个组件，那么所有页面和组件可以直接使用该组件。"),_("strong",[s._v("【全局注册】")])])])])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/3c701dc152b2ea77e.png",alt:"3c701dc152b2ea77e.png"}})]),s._v(" "),_("h3",{attrs:{id:"_2-3-组件的生命周期"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-组件的生命周期"}},[s._v("#")]),s._v(" 2.3.组件的生命周期")]),s._v(" "),_("p",[_("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("小程序组件的生命周期"),_("OutboundLink")],1)]),s._v(" "),_("ul",[_("li",[s._v("组件的生命周期，指的是组件自身的一些函数，这些函数在特殊的时间点或遇到一些特殊的框架事件时被自动触发。\n"),_("ul",[_("li",[s._v("其中，最重要的生命周期是 created attached detached ，包含一个组件实例生命流程的最主要时间点。")])])]),s._v(" "),_("li",[s._v("自小程序基础库版本 2.2.3 起，组件的的生命周期也可以在 "),_("strong",[s._v("lifetimes 字段内进行声明")]),s._v("（"),_("strong",[s._v("这是推荐的方式，其优先级最高")]),s._v("）。")])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/4c25b40a0e22f34b0.png",alt:"4c25b40a0e22f34b0.png"}})]),s._v(" "),_("ul",[_("li",[s._v("代码呈现")])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/54aff6fdf18399bb8.png",alt:"54aff6fdf18399bb8.png"}})]),s._v(" "),_("h3",{attrs:{id:"_2-4-组件所在页面的生命周期"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-组件所在页面的生命周期"}},[s._v("#")]),s._v(" 2.4.组件所在页面的生命周期")]),s._v(" "),_("ul",[_("li",[s._v("还有一些特殊的生命周期，它们并非与组件有很强的关联，但有时组件需要获知，以便组件内部处理。\n"),_("ul",[_("li",[s._v("这些生命周期称为“组件所在页面的生命周期”，在 "),_("strong",[s._v("pageLifetimes")]),s._v(" 定义段中定义。")])])]),s._v(" "),_("li",[s._v("其中可用的生命周期包括：")])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/6242edff24cb75e05.png",alt:"6242edff24cb75e05.png"}})]),s._v(" "),_("ul",[_("li",[s._v("代码呈现")])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/736d0dd568cd3d79d.png",alt:"736d0dd568cd3d79d.png"}})]),s._v(" "),_("h3",{attrs:{id:"_2-5-组件样式实现细节"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-组件样式实现细节"}},[s._v("#")]),s._v(" 2.5.组件样式实现细节")]),s._v(" "),_("ul",[_("li",[s._v("课题一：组件内的样式 对 外部样式 的影响\n"),_("ul",[_("li",[s._v("结论一：组件内的class样式，只对组件wxml内的节点生效, 对于引用组件的Page页面不生效。")]),s._v(" "),_("li",[s._v("结论二："),_("strong",[s._v("组件内不能使用id选择器、属性选择器、标签选择器")])])])]),s._v(" "),_("li",[s._v("课题二：外部样式 对 组件内样式 的影响\n"),_("ul",[_("li",[s._v("结论一：外部使用class的样式，只对外部wxml的class生效，对组件内是不生效的")]),s._v(" "),_("li",[s._v("结论二：外部使用了id选择器、属性选择器不会对组件内产生影响")]),s._v(" "),_("li",[s._v("结论三：外部使用了标签选择器，会对组件内产生影响")])])]),s._v(" "),_("li",[s._v("课题三：如何让class可以相互影响\n"),_("ul",[_("li",[s._v("在"),_("strong",[s._v("Component对象")]),s._v("中，可以传入一个"),_("strong",[s._v("options属性")]),s._v("，其中options属性中有一个"),_("strong",[s._v("styleIsolation（隔离）属性")]),s._v("。")]),s._v(" "),_("li",[s._v("styleIsolation有三个取值：\n"),_("ul",[_("li",[_("strong",[s._v("isolated")]),s._v(" 表示启用样式隔离，在自定义组件内外，使用 class 指定的样式将不会相互影响（默认取值）；")]),s._v(" "),_("li",[_("strong",[s._v("apply-shared")]),s._v(" 表示页面 wxss 样式将影响到自定义组件，但自定义组件 wxss 中指定的样式不会影响页面；")]),s._v(" "),_("li",[_("strong",[s._v("shared")]),s._v(" 表示页面 wxss 样式将影响到自定义组件，自定义组件 wxss 中指定的样式也会影响页面和其他设置 了")])])])])])]),s._v(" "),_("h2",{attrs:{id:"_3、组件使用过程通信"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3、组件使用过程通信"}},[s._v("#")]),s._v(" 3、组件使用过程通信")]),s._v(" "),_("h3",{attrs:{id:"_3-1-组件的通信-页面和组件-组件和组件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-组件的通信-页面和组件-组件和组件"}},[s._v("#")]),s._v(" 3.1.组件的通信（页面和组件，组件和组件）")]),s._v(" "),_("ul",[_("li",[s._v("很多情况下，组件内展示的内容（数据、样式、标签），并不是在组件内写死的，而且可以由使用者来决定。")])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/8814a3119a00eef12.png",alt:"8814a3119a00eef12.png"}})]),s._v(" "),_("h3",{attrs:{id:"_3-2-向组件传递数据-properties"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-向组件传递数据-properties"}},[s._v("#")]),s._v(" 3.2.向组件传递数据 - properties")]),s._v(" "),_("ul",[_("li",[s._v("给组件传递数据：\n"),_("ul",[_("li",[s._v("大部分情况下，组件只负责布局和样式，内容是由使用组件的对象决定的；")]),s._v(" "),_("li",[s._v("所以，我们经常需要从外部传递数据给我们的组件，让我们的组件来进行展示；")])])]),s._v(" "),_("li",[s._v("如何传递呢？\n"),_("ul",[_("li",[s._v("使用properties属性；")])])]),s._v(" "),_("li",[s._v("支持的类型：\n"),_("ul",[_("li",[s._v("String、Number、Boolean")]),s._v(" "),_("li",[s._v("Object、Array、null（不限制类型）")])])]),s._v(" "),_("li",[s._v("默认值：可以通过value设置默认值；")])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/9a82beeb78223bbd2.png",alt:"9a82beeb78223bbd2.png"}})]),s._v(" "),_("h3",{attrs:{id:"_3-3-向组件传递样式-externalclasses"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-向组件传递样式-externalclasses"}},[s._v("#")]),s._v(" 3.3.向组件传递样式 - externalClasses")]),s._v(" "),_("ul",[_("li",[s._v("给组件传递样式：\n"),_("ul",[_("li",[s._v("有时候，我们不希望将样式在组件内固定不变，而是外部可以决定样式。")])])]),s._v(" "),_("li",[s._v("这个时候，我们可以使用"),_("strong",[s._v("externalClasses属性")]),s._v("：\n"),_("ol",[_("li",[s._v("在Component对象中，"),_("strong",[s._v("定义externalClasses属性")])]),s._v(" "),_("li",[s._v("在组件内的wxml中使用externalClasses属性中的class")]),s._v(" "),_("li",[s._v("在页面中传入对应的class，并且给这个class设置样式")])])])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/10c6efed6041b9e31e.png",alt:"10c6efed6041b9e31e.png"}})]),s._v(" "),_("h3",{attrs:{id:"_3-4-组件向外传递事件-自定义事件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-组件向外传递事件-自定义事件"}},[s._v("#")]),s._v(" 3.4.组件向外传递事件 – 自定义事件")]),s._v(" "),_("ul",[_("li",[s._v("有时候是自定义组件内部发生了事件，需要告知使用者，这个时候可以使用自定义事件：")]),s._v(" "),_("li",[_("strong",[s._v("this.triggerEvent(发出的事件类型,需要携带的参数)")])])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/113d81c0226683cf15.png",alt:"113d81c0226683cf15.png"}})]),s._v(" "),_("h3",{attrs:{id:"_3-5-页面直接调用组件方法-获取组件实例"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-页面直接调用组件方法-获取组件实例"}},[s._v("#")]),s._v(" 3.5.页面直接调用组件方法(获取组件实例)")]),s._v(" "),_("ul",[_("li",[s._v("可在（父组件/页面）里调用 "),_("strong",[s._v("this.selectComponent")]),s._v(" ，获取子"),_("strong",[s._v("组件的实例对象")]),s._v("。\n"),_("ul",[_("li",[s._v('调用时需要传入一个匹配选择器 selector，如：this.selectComponent(".my-component")。')]),s._v(" "),_("li",[s._v("注意：不可获取"),_("strong",[s._v("内置组件")]),s._v("的实例；该方法只可以获取自定义组件的实例")])])])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/12.png",alt:"12.png"}})]),s._v(" "),_("h2",{attrs:{id:"_4、组件插槽定义使用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4、组件插槽定义使用"}},[s._v("#")]),s._v(" 4、组件插槽定义使用")]),s._v(" "),_("h3",{attrs:{id:"_4-1-什么是插槽"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-什么是插槽"}},[s._v("#")]),s._v(" 4.1.什么是插槽？")]),s._v(" "),_("ul",[_("li",[s._v("slot翻译为插槽：\n"),_("ul",[_("li",[s._v("在生活中很多地方都有插槽，电脑的USB插槽，插板当中的电源插槽。")]),s._v(" "),_("li",[s._v("插槽的目的是让我们原来的设备具备更多的扩展性。")]),s._v(" "),_("li",[s._v("比如电脑的USB我们可以插入U盘、硬盘、手机、音响、键盘、鼠标等等。")])])]),s._v(" "),_("li",[s._v("组件的插槽：\n"),_("ul",[_("li",[s._v("组件的插槽也是为了让我们封装的组件更加具有扩展性。")]),s._v(" "),_("li",[s._v("让使用者可以决定组件内部的一些内容到底展示什么。")])])]),s._v(" "),_("li",[s._v("栗子：移动网站中的导航栏。\n"),_("ul",[_("li",[s._v("移动开发中，几乎每个页面都有导航栏。")]),s._v(" "),_("li",[s._v("导航栏我们必然会封装成一个插件，比如nav-bar组件。")]),s._v(" "),_("li",[s._v("一旦有了这个组件，我们就可以在多个页面中复用了。")])])]),s._v(" "),_("li",[s._v("但是，每个页面的导航是一样的吗？类似下图")])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/13.png",alt:"13.png"}})]),s._v(" "),_("h3",{attrs:{id:"_4-2-单个插槽的使用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-单个插槽的使用"}},[s._v("#")]),s._v(" 4.2.单个插槽的使用")]),s._v(" "),_("ul",[_("li",[s._v("除了内容和样式可能由外界决定之外，也可能外界想决定显示的方式\n"),_("ul",[_("li",[s._v("比如我们有一个组件定义了头部和尾部，但是中间的内容可能是一段文字，也可能是一张图片，或者是一个进 度条。")]),s._v(" "),_("li",[s._v("在不确定外界想插入什么其他组件的前提下，我们可以在组件内预留插槽：\n"),_("ul",[_("li",[s._v("但是跟vue插槽不同的是："),_("strong",[s._v("小程序的插槽在外界没有插入任何东西的情况下；不支持设置插槽的默认显示")])])])])])])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/144c4e50ae0b76bf58.png",alt:"144c4e50ae0b76bf58.png"}})]),s._v(" "),_("h3",{attrs:{id:"_4-3-小程序不支持插槽默认显示功能-css实现"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-小程序不支持插槽默认显示功能-css实现"}},[s._v("#")]),s._v(" 4.3.小程序不支持插槽默认显示功能（css实现）")]),s._v(" "),_("ul",[_("li",[s._v("伪类选择器 +  相邻兄弟选择器实现: "),_("code",[s._v(":empty")]),s._v(" + "),_("code",[s._v("+")])])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/15.png",alt:"15.png"}})]),s._v(" "),_("h3",{attrs:{id:"_4-4-多个插槽的使用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-多个插槽的使用"}},[s._v("#")]),s._v(" 4.4.多个插槽的使用")]),s._v(" "),_("ul",[_("li",[s._v("有时候为了让组件更加灵活, 我们需要定义多个插槽：\n"),_("ul",[_("li",[_("strong",[s._v("注意")]),s._v("：如果组件想要使用多插槽，必须在Component的options对象中设置："),_("code",[s._v("multipleSlots:true")]),s._v("  开启组件的多插槽功能")])])])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/16.png",alt:"16.png"}})]),s._v(" "),_("h2",{attrs:{id:"_5、behaviors组件代码共享-混入"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5、behaviors组件代码共享-混入"}},[s._v("#")]),s._v(" 5、behaviors组件代码共享（混入）")]),s._v(" "),_("ul",[_("li",[s._v("behaviors 是用于组件间代码共享的特性，类似于一些编程语言中的 “mixins”。\n"),_("ul",[_("li",[s._v("每个 behavior 可以包含一组属性、数据、生命周期函数和方法；")]),s._v(" "),_("li",[s._v("组件引用它时，它的属性、数据和方法会被合并到组件中，生命周期函数也会在对应时机被调用；")]),s._v(" "),_("li",[s._v("每个组件可以引用多个 behavior ，behavior 也可以引用其它 behavior ；")]),s._v(" "),_("li",[s._v("定义共享数据用的是："),_("strong",[s._v("Behavior(Object object)方法")])])])])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/17.png",alt:"17.png"}})]),s._v(" "),_("h2",{attrs:{id:"_6、监听组件中属性和数据的变化-observers"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6、监听组件中属性和数据的变化-observers"}},[s._v("#")]),s._v(" 6、监听组件中属性和数据的变化：observers")]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/19.png",alt:"19.png"}})]),s._v(" "),_("h2",{attrs:{id:"_7、component构造器"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_7、component构造器"}},[s._v("#")]),s._v(" 7、Component构造器")]),s._v(" "),_("ul",[_("li",[s._v("组件的Component中有如下图这些选项")])]),s._v(" "),_("p",[_("img",{attrs:{src:"https://s1.imagehub.cc/images/2022/11/16/18.png",alt:"18.png"}})])])}),[],!1,null,null,null);t.default=v.exports}}]);